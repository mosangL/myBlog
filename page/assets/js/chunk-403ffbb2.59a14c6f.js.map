{"version":3,"sources":["webpack:///./src/views/Comments.vue?5f24","webpack:///./src/views/Comments.vue?5909","webpack:///src/views/Comments.vue","webpack:///./src/views/Comments.vue?820c","webpack:///./src/views/Comments.vue","webpack:///./src/components/comments/CommentsList.vue?b5ce","webpack:///src/components/comments/CommentsList.vue","webpack:///./src/components/comments/CommentsList.vue?74cf","webpack:///./src/components/comments/CommentsList.vue","webpack:///./src/components/comments/PostComment.vue?8131","webpack:///src/components/comments/PostComment.vue","webpack:///./src/components/comments/PostComment.vue?4542","webpack:///./src/components/comments/PostComment.vue","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/comments/CommentsList.vue?cf96","webpack:///./src/components/comments/PostComment.vue?d331"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","_e","on","addNewComment","staticRenderFns","_v","component","directives","name","rawName","value","count","expression","_s","_l","item","key","id","user_name","parent","_f","ctime","$event","setApply","comments","limit","changePage","cancelcommentReply","formInline","model","callback","$$v","$set","vcode","trim","domProps","codeImg","getCodeImg","onSubmit","resetForm","$","$trim","forcedStringTrimMethod","target","proto","forced","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"assets/js/chunk-403ffbb2.59a14c6f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=6dfd8e7a&scoped=scoped&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=6dfd8e7a&scoped=scoped&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comments flex-wrap\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"left\"},[_vm._m(0),(_vm.hackReset)?_c('CommentsList',{attrs:{\"blog_id\":-1}}):_vm._e(),_c('PostComment',{attrs:{\"blog_id\":-1},on:{\"addNewComment\":_vm.addNewComment}})],1),_c('div',{staticClass:\"right\"},[_c('Tags'),_c('HotBlogs'),_c('NewComments')],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(\"新开博，欢迎灌水交流~\")]),_c('p',{staticClass:\"red\"},[_vm._v(\"博主Q联系: 1393726367\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"comments flex-wrap\">\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"left\">\r\n\t\t\t\t<article>\r\n\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t<p>新开博，欢迎灌水交流~</p>\r\n\t\t\t\t\t\t<p class=\"red\">博主Q联系: 1393726367</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t\t<!-- 留言区，-1指的是网站作者自己的id -->\r\n\t\t\t\t<CommentsList :blog_id=\"-1\" v-if=\"hackReset\"/>\r\n\t\t\t\t<!-- 发表评论 -->\r\n\t\t\t\t<PostComment :blog_id=\"-1\" @addNewComment=\"addNewComment\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"right\">\r\n\t\t\t\t<Tags />\r\n\t\t\t\t<HotBlogs />\r\n\t\t\t\t<NewComments />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport HotBlogs from '@/components/home/HotBlogs.vue';\r\n\timport NewComments from '@/components/home/NewComments.vue';\r\n\timport Tags from '@/components/home/Tags.vue';\r\n\timport CommentsList from '@/components/comments/CommentsList.vue';\r\n\timport PostComment from '@/components/comments/PostComment.vue';\r\n\texport default {\r\n\t\tname: 'Comments',\r\n\t\tcomponents: {\r\n\t\t\tHotBlogs,\r\n\t\t\tNewComments,\r\n\t\t\tTags,\r\n\t\t\tCommentsList,\r\n\t\t\tPostComment\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thackReset: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//有新的留言提交成功\r\n\t\t\taddNewComment(){\r\n\t\t\t\tthis.hackReset = false;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.hackReset = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\" lang=\"less\">\r\n\t.comments {\r\n\t\t.left {\r\n\t\t\tarticle {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 34px 19px;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tborder: 1px solid #e3e3e3;\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t\tbox-shadow: 1px 1px 5px rgba(97, 97, 97, .48);\r\n\r\n\t\t\t\tp {\r\n\t\t\t\t\tmargin: 0 0 10px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp:first-child {\r\n\t\t\t\t\tmargin-bottom: 30px;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=6dfd8e7a&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=6dfd8e7a&scoped=scoped&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dfd8e7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.count!=0),expression:\"count!=0\"}]},[_vm._v(\"留言：目前有\"+_vm._s(_vm.count)+\"条留言\")]),_c('div',{staticClass:\"comments-list\"},_vm._l((_vm.commentList),function(item){return _c('div',{key:item.id,staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-author\"},[_c('strong',[_vm._v(\" \"+_vm._s(item.user_name))]),_vm._v(\"： \"),(item.parent != 0)?_c('span',[_vm._v(\"回复@\"+_vm._s(item.parent))]):_vm._e(),_c('span',{staticClass:\"datetime\"},[_vm._v(\" 发表于 \"+_vm._s(_vm._f(\"parseTime\")(item.ctime))+\" \"),_c('span',{staticClass:\"reply\"},[_c('a',{staticClass:\"comment-reply-link\",attrs:{\"rel\":\"nofollow\",\"href\":\"#pages\"},on:{\"click\":function($event){return _vm.setApply(item.user_name)}}},[_vm._v(\"[回复]\")])])])]),_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(item.comments))])])}),0),_c('div',{staticClass:\"block\",attrs:{\"id\":\"pages\"}},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.count,\"page-size\":_vm.limit,\"hide-on-single-page\":true,\"prev-text\":\"上一页\",\"next-text\":\"下一页\"},on:{\"current-change\":_vm.changePage}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<h3 v-show=\"count!=0\">留言：目前有{{count}}条留言</h3>\r\n\t\t<div class=\"comments-list\">\r\n\t\t\t<div class=\"comment-item\" v-for=\"item in commentList\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"comment-author\">\r\n\t\t\t\t\t<!-- <img src=\"https://www.zh30.com/avatar/default.jpg\" alt=\"用户评论头像\" > -->\r\n\t\t\t\t\t<strong> {{item.user_name}}</strong>：\r\n\t\t\t\t\t<span v-if=\"item.parent != 0\">回复@{{item.parent}}</span>\r\n\t\t\t\t\t<span class=\"datetime\">\r\n\t\t\t\t\t\t发表于 {{item.ctime | parseTime}}\r\n\t\t\t\t\t\t<span class=\"reply\">\r\n\t\t\t\t\t\t\t<a rel=\"nofollow\" class=\"comment-reply-link\" href=\"#pages\" @click=\"setApply(item.user_name)\">[回复]</a>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"comment-content\">{{item.comments}}</p>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t</div>\r\n\t\t<!-- 分页 -->\r\n\t\t<div class=\"block\" id=\"pages\">\r\n\t\t\t<el-pagination \r\n\t\t\t\tlayout=\"prev, pager, next\" \r\n\t\t\t\t:total=\"count\" \r\n\t\t\t\t:page-size=\"limit\"\r\n\t\t\t\t:hide-on-single-page=\"true\"\r\n\t\t\t\tprev-text=\"上一页\"\r\n\t\t\t\tnext-text=\"下一页\"\r\n\t\t\t\t@current-change=\"changePage\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport parseTime from '@/assets/js/parseTime.js';\r\nexport default{\r\n\tprops: ['blog_id'],\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tcount: 0, //总数\r\n\t\t\tlimit: 5, //每页展示的条数\r\n\t\t\tpage: 1, //当前页\r\n\t\t\tcommentList: [],\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getCommentList();\r\n\t\tthis.getCommentCountByBlogId();\r\n\t},\r\n\tmethods:{\r\n\t\tchangePage(val){\r\n\t\t\tthis.page = val;\r\n\t\t\tthis.getCommentList();\r\n\t\t},\r\n\t\t//根据博客id获取评论列表\r\n\t\tgetCommentList(){\r\n\t\t\tthis.ajax('post', this.api.getCommentsByBlogId, {\r\n\t\t\t\tblog_id: this.blog_id,\r\n\t\t\t\tlimit: this.limit,\r\n\t\t\t\toffset: +this.page - 1,\r\n\t\t\t}, res => {\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\tthis.commentList = res.data || [];\r\n\t\t\t})\r\n\t\t},\r\n\t\t//获取留言/评论总数\r\n\t\tgetCommentCountByBlogId(){\r\n\t\t\tthis.ajax('post', this.api.getCommentCountByBlogId, {\r\n\t\t\t\tblog_id: this.blog_id\r\n\t\t\t}, res => {\r\n\t\t\t\tthis.count = res.data.count || 0;\r\n\t\t\t})\r\n\t\t},\r\n\t\t//点击回复\r\n\t\tsetApply(name){\r\n\t\t\tthis.$store.commit('setApplyParent', name);\r\n\t\t}\r\n\t},\r\n\tfilters:{\r\n\t\tparseTime,\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\th3{\r\n\t\tfont-weight: normal;\r\n\t\tmargin-bottom: 15px;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t.comments-list{\r\n\t\t.comment-item{\r\n\t\t\tborder: 1px solid #7ca4c1;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tborder-style: dashed;\r\n\t\t\tpadding: 15px 10px;\r\n\t\t\tmargin-bottom: 15px;\r\n\t\t\tbackground-color: #d9edf7;\r\n\t\t\tcolor: #31708f;\r\n\t\t\t.comment-author{\r\n\t\t\t\timg{\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tvertical-align: middle;\r\n\t\t\t\t}\r\n\t\t\t\ta{\r\n\t\t\t\t\tcolor: #337ab7;\r\n\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.comment-content{\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentsList.vue?vue&type=template&id=0ce2200a&scoped=true&\"\nimport script from \"./CommentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentsList.vue?vue&type=style&index=0&id=0ce2200a&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ce2200a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-comment\"},[_c('div',{attrs:{\"id\":\"respond\"}},[_c('h3',[_vm._v(\"发表评论\")]),_c('div',{staticClass:\"cancel-comment-reply\"},[_c('small',[_c('a',{attrs:{\"rel\":\"nofollow\"},on:{\"click\":_vm.cancelcommentReply}},[_vm._v(\"点击这里取消回复。\")])])]),_c('el-form',{staticClass:\"demo-form-inline commentform\",attrs:{\"model\":_vm.formInline,\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"昵称\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", $$v)},expression:\"formInline.name\"}})],1),_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('el-input',{attrs:{\"placeholder\":\"邮箱(评论被回复时你讲收到通知)\"},model:{value:(_vm.formInline.email),callback:function ($$v) {_vm.$set(_vm.formInline, \"email\", $$v)},expression:\"formInline.email\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"无意义的内容我不会回复你\"},model:{value:(_vm.formInline.content),callback:function ($$v) {_vm.$set(_vm.formInline, \"content\", $$v)},expression:\"formInline.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.vcode),callback:function ($$v) {_vm.vcode=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"vcode\"}})],1),_c('el-col',{attrs:{\"span\":7,\"offset\":1}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.codeImg)},on:{\"click\":_vm.getCodeImg}})])],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交留言\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重写\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"post-comment\">\r\n\t\t<div id=\"respond\">\r\n\t\t\t<h3>发表评论</h3>\r\n\t\t\t<div class=\"cancel-comment-reply\">\r\n\t\t\t\t<small><a rel=\"nofollow\" @click=\"cancelcommentReply\">点击这里取消回复。</a></small>\r\n\t\t\t</div>\r\n\t\t\t<el-form :model=\"formInline\" class=\"demo-form-inline commentform\" size=\"medium\">\r\n\t\t\t\t<el-form-item label=\"\">\r\n\t\t\t\t\t<el-col :span=\"7\">\r\n\t\t\t\t\t\t<el-input v-model=\"formInline.name\" placeholder=\"昵称\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"10\" :offset=\"1\">\r\n\t\t\t\t\t\t<el-input v-model=\"formInline.email\" placeholder=\"邮箱(评论被回复时你讲收到通知)\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"\">\r\n\t\t\t\t\t<el-input type=\"textarea\" v-model=\"formInline.content\" placeholder=\"无意义的内容我不会回复你\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"\">\r\n\t\t\t\t\t<el-col :span=\"7\">\r\n\t\t\t\t\t\t<el-input placeholder=\"验证码\" v-model.trim=\"vcode\"></el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"7\" :offset=\"1\">\r\n\t\t\t\t\t\t<span v-html=\"codeImg\" @click=\"getCodeImg\"></span>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button @click=\"onSubmit\">提交留言</el-button>\r\n\t\t\t\t\t<el-button @click=\"resetForm\">重写</el-button>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops:['blog_id'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcodeImg: '', // 验证码\r\n\t\t\t\tvcode: '', // 用户输入的验证码\r\n\t\t\t\trightCode: '', // 正确的验证码\r\n\t\t\t\tformInline: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\treply: '0', //0表示直接评论博客不是回复某人的评论, 若是回复某人，就取某人的名字\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tgetCodeImg(){\r\n\t\t\t\treturn () => {\r\n\t\t\t\t\tthis.ajax('post', this.api.queryRandomCode, '', res => {\r\n\t\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t\tthis.codeImg = res.data? res.data.data : '';\r\n\t\t\t\t\t\tthis.rightCode = res.data? res.data.text.toLocaleLowerCase() : '';\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//重置表单\r\n\t\t\tresetForm(){\r\n\t\t\t\tthis.vcode = '';\r\n\t\t\t\tthis.formInline.name = '';\r\n\t\t\t\tthis.formInline.email = '';\r\n\t\t\t\tthis.formInline.content = '';\r\n\t\t\t},\r\n\t\t\t//点击提交\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(!this.formInline.content.trim()){\r\n\t\t\t\t\tthis.$alert(\"请输入内容\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.vcode){\r\n\t\t\t\t\tthis.$alert(\"请输入验证码\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.vcode.toLocaleLowerCase() != this.rightCode){\r\n\t\t\t\t\tthis.$alert(\"验证码错误，请重新输入\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.$store.state.applyParent){\r\n\t\t\t\t\tthis.formInline.reply = this.$store.state.applyParent;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ajax('post', this.api.addComment, {\r\n\t\t\t\t\tblog_id: this.blog_id,\r\n\t\t\t\t\tparent: this.formInline.reply, //表示回复谁的评论\r\n\t\t\t\t\tuser_name: this.formInline.name,\r\n\t\t\t\t\temail: this.formInline.email,\r\n\t\t\t\t\tcomments: this.formInline.content,\r\n\t\t\t\t}, res => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tthis.$alert(res.msg);\r\n\t\t\t\t\tthis.resetForm();\r\n\t\t\t\t\tthis.$emit('addNewComment', true)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//点击取消回复\r\n\t\t\tcancelcommentReply(){\r\n\t\t\t\tthis.$store.commit('setApplyParent', '0');\r\n\t\t\t\tthis.resetForm();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// console.log(this.blog_id)\r\n\t\t\tthis.getCodeImg();\r\n\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.post-comment {\r\n\t\tmargin-top: 20px;\r\n\t\tpadding: 19px;\r\n\t\tmargin-bottom: 20px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder: 1px solid #e3e3e3;\r\n\t\tborder-radius: 4px;\r\n\t\tbox-shadow: 1px 1px 5px rgba(97, 97, 97, .48);\r\n\r\n\t\th3 {\r\n\t\t\tmargin: 12px 0 10px;\r\n\t\t\tfont-weight: normal;\r\n\t\t}\r\n\r\n\t\ta {\r\n\t\t\tcolor: #337ab7;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\t\t\r\n\t\t.commentform {\r\n\t\t\tmargin-top: 5px;\r\n\t\t\tbutton:first-child{\r\n\t\t\t\tbackground-color: #d9edf7;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostComment.vue?vue&type=template&id=3612b31a&scoped=true&\"\nimport script from \"./PostComment.vue?vue&type=script&lang=js&\"\nexport * from \"./PostComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostComment.vue?vue&type=style&index=0&id=3612b31a&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3612b31a\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentsList.vue?vue&type=style&index=0&id=0ce2200a&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentsList.vue?vue&type=style&index=0&id=0ce2200a&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=style&index=0&id=3612b31a&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=style&index=0&id=3612b31a&scoped=true&lang=less&\""],"sourceRoot":""}